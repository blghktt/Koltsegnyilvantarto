@using Koltseg.ViewModels
@using System.Collections.Generic
@using Koltseg.Misc


@model List<Koltsegvetes>
<div>
@using (Html.BeginForm("Index", "Home", FormMethod.Get))
{
    <div class="form-group">
        @Html.Label("Év:", new { htmlAttributes = new { @class = "form-control" } })
       
        @Html.DropDownList("ev", new SelectList(
            new List<Object>
                {
               2016,2015, 2014, 2013, 2012, 2011

                }), new { htmlAttributes = new { @class = "form-control" } })
       
        

        @Html.Label("Hónap:", new { htmlAttributes = new { @class = "form-control" } })

    
      
            @Html.DropDownList("honap", new SelectList(
            new List<SelectListItemOwn>
                {

    new SelectListItemOwn  { Selected = false, Text ="Január", Value = "1"},
     new SelectListItemOwn { Selected = true, Text ="Február", Value = "2"}
    @*    new SelectListItem { Selected = false, Text ="Március", Value = "3"},
    new SelectListItem { Selected = false, Text ="Április", Value = "4"},
     new SelectListItem { Selected = false, Text ="Május", Value = "5"},
      new SelectListItem { Selected = false, Text ="Június", Value = "6"},
       new SelectListItem { Selected = false, Text ="Július", Value = "7"},
        new SelectListItem { Selected = false, Text ="Augusztus", Value = "8"},
         new SelectListItem { Selected = false, Text ="Szeptember", Value = "9"},
          new SelectListItem { Selected = false, Text ="Október", Value = "10"},
           new SelectListItem { Selected = false, Text ="November", Value = "11"},
            new SelectListItem { Selected = false, Text ="December", Value = "12"}
    *@

           }), new { htmlAttributes = new { @class = "form-control" } })

  
            <button type="submit" class="btn btn-default">Keresés</button>

        </div>

}
</div>

<div class="form-group">
    @Html.ActionLink("Új tétel felvitele", "UjFelvitel", "Home", new { @class = "btn btn-default" })

</div>


<table class="table">
    <thead>
        <tr>
            <th>Tétel Név</th>
            <th>Kategória Név</th>
            <th>Bevétel</th>
            <th>Kiadás</th>
            <th>Dátum</th>
        </tr>
    </thead>

    <tbody>
        @{ int osszbevetel = 0;}
        @{ int osszkiadas = 0;}
        @foreach (var t in Model)
        {
            <tr>
                <td>@t.TetelNev</td>
                <td>@t.KategoriaNev</td>
                @if (t.Tipus == "Bevétel")
                {
                    <td>@t.Value</td>
                    <td></td>
                    osszbevetel = osszbevetel + t.Value;
                }
                else
                {
                    <td></td>
                    <td>@t.Value</td>
                    osszkiadas = osszkiadas + t.Value;
                }
                <td>@t.Datum</td>
            </tr>
        }
        <tr>
            <td>Összesen</td>
            <td></td>
            <td>@osszbevetel</td>
            <td>@osszkiadas</td>
        </tr>
    </tbody>
</table>

